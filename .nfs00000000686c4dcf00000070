Script started on 2020-12-06 22:44:37-0800
buzardh@cf164-05:~/csci447_f20$ make
gcc -g -Wall   -c -o Simulation.o Simulation.c
gcc -o Simulation -g -Wall Simulation.o
buzardh@cf164-05:~/csci447_f20$ ./Simulation ./Simulation trace1.t[Ktxt trace2.txt f
Segmentation fault
buzardh@cf164-05:~/csci447_f20$ ./Simulation ./Simulation trace1.txt trace2.txt f[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kexit[2Plsmakenano Simulation.c./Simulation trace1.txt trace2.txt sf[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kssh -p922 buzardh@140.160.140.70ls[Kssh -p922 buzardh@140.160.140.70gdb --args Simulation trace1.txt trace2.txt s[Kf
GNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
<http://www.gnu.org/software/gdb/documentation/>.
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from Simulation...done.
(gdb) r
Starting program: /home/buzardh/csci447_f20/Simulation trace1.txt trace2.txt f
Allocation: Free AllNum page faults for 32 frames : 243657
Num page faults for 64 frames : 125279
Num page faults for 128 frames : 76532
[Inferior 1 (process 4213) exited normally]
(gdb) 
[1]+  Stopped                 gdb --args Simulation trace1.txt trace2.txt f
buzardh@cf164-05:~/csci447_f20$ ls
hw4-script  makefile  README.md  Simulation  Simulation.c  Simulation.o  trace1.txt  trace2.txt
buzardh@cf164-05:~/csci447_f20$ exit
exit
There are stopped jobs.
buzardh@cf164-05:~/csci447_f20$ rm -rf hw4-script
buzardh@cf164-05:~/csci447_f20$ ls
makefile  README.md  Simulation  Simulation.c  Simulation.o  trace1.txt  trace2.txt
buzardh@cf164-05:~/csci447_f20$ make clean
rm -f Simulation.o Simulation
buzardh@cf164-05:~/csci447_f20$ make
gcc -g -Wall   -c -o Simulation.o Simulation.c
gcc -o Simulation -g -Wall Simulation.o
buzardh@cf164-05:~/csci447_f20$ make cleanls[Krm -rf hw4-scriptexit[K[2Pls[K[Kls
makefile  README.md  Simulation  Simulation.c  Simulation.o  trace1.txt  trace2.txt
buzardh@cf164-05:~/csci447_f20$ ./Simulation trace1.txt trace2.txt f
Allocation: Free AllNum page faults for 32 frames : 243657
Num page faults for 64 frames : 125279
Num page faults for 128 frames : 76532
buzardh@cf164-05:~/csci447_f20$ nano Simulation.c
[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;75H(B[0;7m[ Reading File ](B[m[41;74H(B[0;7m[ Read 316 lines ](B[m[H(B[0;7m  GNU nano 2.9.3                                                               Simulation.c                                                                         [1;163H(B[m[42d(B[0;7m^G(B[m Get Help     (B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut Text     (B[0;7m^J(B[m Justify[81G(B[0;7m^C(B[m Cur Pos[97G(B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Mark Text   (B[0;7mM-](B[m To Bracket  (B[0;7mM-â–²(B[m Previous[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Uncut Text   (B[0;7m^T(B[m To Spell     (B[0;7m^_(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy Text   (B[0;7mM-W(B[m WhereIs Next(B[0;7mM-â–¼(B[m Next[41d[3d(B[0;1m[34m/*[4d *  File: Simulation.c ... a skeleton file[5d    Hannah buzard[6d    CSCI 447 Fall 2020[7d */[9d[36m#include[39m(B[m (B[0;1m[33m<stdio.h>[10d[36m#include[39m(B[m (B[0;1m[33m<stdlib.h>[11d[36m#include[39m(B[m (B[0;1m[33m<string.h>[12d[36m#include[39m(B[m (B[0;1m[33m<stdbool.h>[14d(B[0m[32mchar[39m(B[m trace1[100]; (B[0;1m[34m//trace files[15d(B[0m[32mchar[39m(B[m trace2[100];[16d[32mint[39m(B[m numframes;[17d[32mchar[39m(B[m *framenum[128]; (B[0;1m[34m//array of page numbers for table[18d(B[0m[32mchar[39m(B[m *file1lines[1000000]; (B[0;1m[34m//file1Lines and file2lines hold every line frome each file[19d(B[0m[32mchar[39m(B[m *file2lines[1000000];[20d[32mint[39m(B[m bitnum[128]; (B[0;1m[34m//reference bit array for table[21d(B[0m[32mint[39m(B[m processnum[128]; (B[0;1m[34m//array of process numbers for table[22d(B[0m[32mint[39m(B[m pointerpos; (B[0;1m[34m// pointer for second chance (Free)[23d(B[0m[32mint[39m(B[m file1ptr; (B[0;1m[34m//pointers for second change (Split)[24d(B[0m[32mint[39m(B[m file2ptr;[25d[32mint[39m(B[m count1; (B[0;1m[34m//counts of file lines for each file[26d(B[0m[32mint[39m(B[m count2;[27d[32mint[39m(B[m numpagefaults;[30d(B[0;1m[34m//This function performs Second Chance Replacement for Split allocation[31d//Adds page to spot in table where reference bit is '0' and the process is equal to the page's process[32;2H(B[0m[32mvoid[39m(B[m SecondChanceSplit ([32mint[39m(B[m process, [32mint[39m(B[m counter) {[33;4H[32mchar[39m(B[m* fileLines = malloc(5);[34;4H[32mint[39m(B[m pointer;[35;4H(B[0;1m[33mif[39m(B[m (process == 1) {[36;6Hpointer = file1ptr;[37;6Hstrncpy(fileLines, file1lines[counter], 5);[38;4H} (B[0;1m[33melse[39m(B[m {[39;6Hpointer = file2ptr;[40;6Hstrncpy(fileLines, file2lines[counter], 5);[3d[?12l[?25h[?25l[4d[?12l[?25h[?25l[5d[?12l[?25h[?25l[6d[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l[12d[?12l[?25h[?25l[13d[?12l[?25h[?25l[14d[?12l[?25h[?25l[15d[?12l[?25h[?25l[16d[?12l[?25h[?25l[17d[?12l[?25h[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l[21d[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[41d[K[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;4H}[23d[32mbool[39m(B[m found = false;[24;4H(B[0;1m[33mwhile[39m(B[m(found != true) { (B[0;1m[34m// while a '0' reference bit has not been found, keep looking through table[25;8H[33mif[39m(B[m(bitnum[pointer] == 1) { (B[0;1m[34m//if a 1 is encountered, set it's reference bit to 0[26;10H[39m(B[mbitnum[pointer] = 0;[27;8H} (B[0;1m[33melse[39m(B[m { (B[0;1m[34m//found a '0', then add the page in that spot and update the reference bit and process num[28;10H[39m(B[mfound = true;[29;10Hframenum[pointer] = malloc(5);[30;10Hstrncpy(framenum[pointer], fileLines, 5);[31;10Hbitnum[pointer] = 0;[32;10Hprocessnum[pointer] = process;[33;8H}[34dpointer = pointer + 1;[35;8H(B[0;1m[33mif[39m(B[m(process == 1) {[36;10H(B[0;1m[33mif[39m(B[m (pointer == numframes/2 - 1 ) {[37;12Hpointer = 0;[38;10H}[39;8H} (B[0;1m[33melse[39m(B[m {[40;10H(B[0;1m[33mif[39m(B[m (pointer == numframes - 1) {[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;12Hpointer = numframes/2;[23;10H}[24;8H}[25;6H}[26d(B[0;1m[33mif[39m(B[m (process == 1) {[27;8Hfile1ptr = pointer;[28;6H} (B[0;1m[33melse[39m(B[m {[29;8Hfile2ptr = pointer;[30;6H}[31d }[33d(B[0;1m[34m//This function checks whether a given page is already in the page table or not (for Split allocation)[34;2H(B[0m[32mint[39m(B[m inSplit([32mint[39m(B[m process, [32mint[39m(B[m counter) {[35;4H[32mbool[39m(B[m found = false;[36;4H[32mint[39m(B[m location = -1;[37;4H[32mchar[39m(B[m* fileLines = malloc(5);[38;4H(B[0;1m[33mif[39m(B[m (process == 1) {[39;6Hstrncpy(fileLines, file1lines[counter], 5);[40;4H} (B[0;1m[33melse[39m(B[m {[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;6Hstrncpy(fileLines, file2lines[counter], 5);[23;4H}[24d(B[0;1m[33mfor[39m(B[m([32mint[39m(B[m i = 0; i < numframes; i++) { (B[0;1m[34m//look for the same page number with the same process number in table[25;6H[33mif[39m(B[m(strcmp(framenum[i], fileLines) == 0 && processnum[i] == process) {[26;8Hfound = true;[27;8Hlocation = i;[28;8H[35mbreak[39m(B[m;[29;6H}[30;4H}[31d(B[0;1m[33mif[39m(B[m(found == false) {[32;6H[35mreturn[39m(B[m -1;[33;4H} (B[0;1m[33melse[39m(B[m {[34;5H[35mreturn[39m(B[m location;[35;4H}[36d }[37d(B[0;1m[34m//This function implements second chance replacement for free all allocation[38;2H(B[0m[32mvoid[39m(B[m SecondChanceFree([32mint[39m(B[m process, [32mint[39m(B[m counter) {[39;4H[32mchar[39m(B[m* fileLines = malloc(5);[40;4H(B[0;1m[33mif[39m(B[m (process == 1) {[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[3;38r[38;1H[19S[1;43r[20;25r[20;1H[2T[1;43r[20;4H[32mchar[39m(B[m* fileLines = malloc(5);[21;4H(B[0;1m[33mif[39m(B[m (process == 1) {[22;6Hstrncpy(fileLines, file1lines[counter], 5);[23;4H} (B[0;1m[33melse[39m(B[m {[24;6Hstrncpy(fileLines, file2lines[counter], 5);[25;4H}[26d[32mbool[39m(B[m found = false;[27;4H(B[0;1m[33mwhile[39m(B[m(found != true) {[28;8H(B[0;1m[33mif[39m(B[m(bitnum[pointerpos] == 1) { (B[0;1m[34m//if the reference bit is 1, reset it to '0'[29;10H[39m(B[mbitnum[pointerpos] = 0;[30;8H} (B[0;1m[33melse[39m(B[m { (B[0;1m[34m//if '0' found, add page to table at this spot and update reference bit and process number[31;10H[39m(B[mfound = true;[32;10Hframenum[pointerpos] = malloc(5);[33;10Hstrncpy(framenum[pointerpos], fileLines, 5);[34;10Hbitnum[pointerpos] = 0;[35;10Hprocessnum[pointerpos] = process;[36;8H}[37dpointerpos = pointerpos + 1;[38;8H(B[0;1m[33mif[39m(B[m(pointerpos == numframes - 1) {[39;9H[1K pointerpos = 0;[K[40;4H    }[K[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[3;39r[39;1H[19S[1;43r[20;33r[20;1H[7T[1;43r[20;10Hpointerpos = 0;[21;8H}[22;6H}[23d }[25d(B[0;1m[34m//This functions checks whether a given element is present in the page table or not (for free all allocation)[26;2H(B[0m[32mint[39m(B[m inFreeTable([32mint[39m(B[m process, [32mint[39m(B[m counter) {[27;4H[32mchar[39m(B[m* fileLines = malloc(5);[28;4H(B[0;1m[33mif[39m(B[m (process == 1) {[29;6Hstrncpy(fileLines, file1lines[counter], 5);[30;4H} (B[0;1m[33melse[39m(B[m {[31;6Hstrncpy(fileLines, file2lines[counter], 5);[32;4H}[33d(B[0;1m[33mfor[39m(B[m([32mint[39m(B[m i = 0; i < numframes; i++) { (B[0;1m[34m//look for location in table where the page in table equals the given page[34;6H[33mif[39m(B[m(strcmp(framenum[i], fileLines) == 0) {[35;8H[35mreturn[39m(B[m i;[36;6H}[37;4H}[38d[35mreturn[39m(B[m -1;[39d }[40d[K[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[2;41r8[41d[19S[1;43r[2;1H[K[22d(B[0;1m[34m//This function counts the number of lines in each file[23;2H(B[0m[32mint[39m(B[m countLines((B[0;1m[31mFILE[39m(B[m* filename) {[24;4H[32mint[39m(B[m count = 0;[25;4H[32mchar[39m(B[m c;[26;4H(B[0;1m[33mfor[39m(B[m (c = getc(filename); c != (B[0;1m[31mEOF[39m(B[m; c = getc(filename)) {[27;9H(B[0;1m[33mif[39m(B[m (c == (B[0;1m[35m'\n'[39m(B[m) {[28;13Hcount = count + 1;[29;9H}[30;4H}[31d[35mreturn[39m(B[m count;[32d }[34d(B[0;1m[34m//This function is called when 'f' allocation is specified and performs Second chance replacement[35;2H(B[0m[32mvoid[39m(B[m FreeAll() {[36;4H[32mint[39m(B[m file1count = 0;[37;4H[32mint[39m(B[m file2count = 0;[38;4H[32mbool[39m(B[m process1 = true;[39;4H[32mint[39m(B[m totalcount = 0;[40;4H[32mint[39m(B[m process;[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[2;41r8[41d[19S[1;43r[22;4H[32mint[39m(B[m location = 0;[23;4H(B[0;1m[33mwhile[39m(B[m (totalcount < count1 + count2) { (B[0;1m[34m//while every line from each file has not been read[24;6H[33mif[39m(B[m(process1 == true) { (B[0;1m[34m//check if page is in the table[25;8H[39m(B[mprocess = 1;[26;8Hlocation = inFreeTable(1, file1count);[27;6H} (B[0;1m[33melse[39m(B[m {[28;8Hprocess = 2;[29;8Hlocation = inFreeTable(2, file2count);[30;6H}[31d(B[0;1m[33mif[39m(B[m(location != -1) { (B[0;1m[34m//if the page was already in the table, give this page a second chance (set ref bit to 1)[32;8H[39m(B[mbitnum[location] = 1;[33;6H} (B[0;1m[33melse[39m(B[m { (B[0;1m[34m//otherwise call second chance replacement to add page to table[34;8H[33mif[39m(B[m (process == 1) {[35;10HSecondChanceFree(1, file1count);[36;7H} (B[0;1m[33melse[39m(B[m {[37;9HSecondChanceFree(2, file2count);[38;7H}[39dnumpagefaults = numpagefaults + 1; (B[0;1m[34m//increase page fault num if added page to table[40;6H[39m(B[m}[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;6H(B[0;1m[33mif[39m(B[m(file2count == count2) {[23;8Hprocess1 = true;[24;6H}[25d(B[0;1m[33mif[39m(B[m(file1count == count1) {[26;8Hprocess1 = false;[27;6H}[28d(B[0;1m[33mif[39m(B[m(totalcount%20 == 0) { (B[0;1m[34m//switch processes after 20 lines are processed from the same file[29;8H[33mif[39m(B[m (process1 == true) {[30;10Hprocess1 = false;[31;8H} (B[0;1m[33melse[39m(B[m {[32;10Hprocess1 = true;[33;8H}[34;6H}[35dtotalcount = totalcount + 1;[36;6H(B[0;1m[33mif[39m(B[m (process == 1) {[37;8Hfile1count = file1count + 1;[38;6H} (B[0;1m[33melse[39m(B[m {[39;8Hfile2count = file2count + 1;[40;6H}[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;4H}[23d}[25d(B[0;1m[34m//This function is called when 's' is given for Allocation[26d//This function performs second chance replacement[27d(B[0m[32mvoid[39m(B[m Split() {[28;3H[32mint[39m(B[m file1count = 0;[29;3H[32mint[39m(B[m file2count = 0;[30;3H[32mbool[39m(B[m process1 = true;[31;3H[32mint[39m(B[m totalcount = 0;[32;3H[32mint[39m(B[m process;[33;3H[32mint[39m(B[m location = 0;[34;3H(B[0;1m[33mwhile[39m(B[m (totalcount < count1 + count2) { (B[0;1m[34m//while all lines from each file have not been read[35;5H[33mif[39m(B[m(process1 == true) { (B[0;1m[34m//check whether current page is already in the page table[36;7H[39m(B[mprocess = 1;[37;7Hlocation = inSplit(1, file1count);[38;5H} (B[0;1m[33melse[39m(B[m {[39;7Hprocess = 2;[40;7Hlocation = inSplit(2, file2count);[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;40r8[19S[1;43r[19;37r[19;1H[9T[1;43r[19;5H} (B[0;1m[33melse[39m(B[m {[20;7Hprocess = 2;[21;7Hlocation = inSplit(2, file2count);[22;5H}[23d(B[0;1m[33mif[39m(B[m(location != -1) { (B[0;1m[34m//if page in table, update its reference bit to 1 to give it a second chance[24;7H[39m(B[mbitnum[location] = 1;[25;5H} (B[0;1m[33melse[39m(B[m { (B[0;1m[34m//otherwise, call second chance replacement to add page to table[26;7H[33mif[39m(B[m (process == 1) {[27;9HSecondChanceSplit(1, file1count);[28d     } (B[0;1m[33melse[39m(B[m {[29;7H  SecondChanceSplit(2, file2count);[30;7H}[K[31dnumpagefaults = numpagefaults + 1; (B[0;1m[34m//increase page faults whenever a page is added[32;5H[39m(B[m}[33d(B[0;1m[33mif[39m(B[m(file2count == count2) {[34;7Hprocess1 = true;[35;5H}[36d(B[0;1m[33mif[39m(B[m(file1count == count1) {[37;7Hprocess1 = false;[38;5H}[39d(B[0;1m[33mif[39m(B[m(totalcount%20 == 0) { (B[0;1m[34m//switch processes once 20 lines have been read from the same file[40;7H[33mif[39m(B[m (process1 == true) {[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;9Hprocess1 = false;[23;7H} (B[0;1m[33melse[39m(B[m {[24;9Hprocess1 = true;[25;7H}[26;5H}[27dtotalcount = totalcount + 1;[28;5H(B[0;1m[33mif[39m(B[m (process == 1) {[29;7Hfile1count = file1count + 1;[30;5H} (B[0;1m[33melse[39m(B[m {[31;7Hfile2count = file2count + 1;[32;5H}[33;3H}[34d}[35d(B[0;1m[34m// A function whose inputs are the trace files names and the allocation[36d// strategy 's' for split or 'f' for free for all[37d(B[0m[32mvoid[39m(B[m Simulate([32mchar[39m(B[m* fileName1, [32mchar[39m(B[m* fileName2, [32mint[39m(B[m allocation) {[38;4Hfile1ptr = 0;[38;26H(B[0;1m[34m//intialize pointers for split second change[39;4H[39m(B[mfile2ptr = numframes/2;[40;4Hpointerpos = 0;[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;4H(B[0;1m[31mFILE[39m(B[m* file1 = fopen(fileName1, (B[0;1m[33m"r"[39m(B[m);[23;4H(B[0;1m[31mFILE[39m(B[m* file2 = fopen(fileName2, (B[0;1m[33m"r"[39m(B[m);[24;4Hcount1 = countLines(file1);[25;4Hcount2 = countLines(file2);[26;4H[32mint[39m(B[m counter = 0;[27;4H[32mchar[39m(B[m string[100];[28;4H(B[0;1m[31mFILE[39m(B[m* file1pt2 = fopen(fileName1, (B[0;1m[33m"r"[39m(B[m);[29;4H(B[0;1m[31mFILE[39m(B[m* file2pt2 = fopen(fileName2, (B[0;1m[33m"r"[39m(B[m);[30;4H(B[0;1m[33mwhile[39m(B[m (fgets(string, 100, file1pt2)) { (B[0;1m[34m//read lines from file1 into file1lines array[31;8H(B[0m[32mchar[39m(B[m* part = malloc(5);[32;8Hmemcpy(part, &string[0], 5);[33;8Hfile1lines[counter] = malloc(5);[34;8Hstrncpy(file1lines[counter], part,5); (B[0;1m[34m//copy first 5 characters from file line (to get page)[35;8H[39m(B[mcounter = counter + 1;[36;4H}[37dcounter = 0;[38;4H(B[0;1m[33mwhile[39m(B[m (fgets(string, 100, file2pt2)) { (B[0;1m[34m//read lines from file2 into file2lines array[39;8H(B[0m[32mchar[39m(B[m* part = malloc(5);[40;8Hmemcpy(part, &string[0], 5);[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l7[3;41r8[41d[19S[1;43r[22;8Hfile2lines[counter] = malloc(5);[23;8Hstrncpy(file2lines[counter], part,5); (B[0;1m[34m//copy first 5 characters from file line (to get page)[24;8H[39m(B[mcounter = counter + 1;[25;4H}[26d[32mchar[39m(B[m* src = malloc(5);[27;4H[32mchar[39m(B[m otherstring[5] = (B[0;1m[33m"-1111"[39m(B[m;[28;4Hmemcpy(src, &otherstring[0], 5);[29;4H(B[0;1m[33mfor[39m(B[m([32mint[39m(B[m i=0; i< 128; i++) {  (B[0;1m[34m//initialize table contents[30;6H[39m(B[mbitnum[i] = 0;[31;6Hprocessnum[i] = 0;[32;6Hframenum[i] = malloc(5);[33;6Hstrncpy(framenum[i], src,5);[34;4H}[35d (B[0;1m[33mif[39m(B[m(allocation == 1) {[36;8HFreeAll();[37;6H} (B[0;1m[33melse[39m(B[m {[38;8HSplit();[39;5H}[40dprintf((B[0;1m[33m"Num page faults for %d frames : %d\n"[39m(B[m, numframes, numpagefaults);[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?2